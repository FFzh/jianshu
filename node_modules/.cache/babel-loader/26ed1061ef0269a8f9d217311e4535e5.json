{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\23902\\\\Desktop\\\\jianshu\\\\src\\\\common\\\\header\\\\index.js\";\nimport React, { Component } from 'react';\nimport iconfont from \"../../statics/iconfont/iconfont.css\";\nimport { CSSTransition } from 'react-transition-group';\nimport { connect } from 'react-redux';\nimport * as actionCreators from './store/actionCreators';\nimport { Link } from 'react-router-dom';\nimport { HeadrerWrapper, Logo, Nav, NavItem, SearchWrapper, SearchInfo, SearchInfoTitle, SearchInfoList, SearchInfoItem, SearchInfoSwitch, NavSearch, Addition, Button } from './style';\n\nclass Header extends Component {\n  getListArea() {\n    const _this$props = this.props,\n          focused = _this$props.focused,\n          list = _this$props.list,\n          page = _this$props.page,\n          mouseIn = _this$props.mouseIn,\n          totalPage = _this$props.totalPage; //将list转化为js普通数组\n\n    const newList = list.toJS();\n    const pageList = []; //当列表中有内容时，才会执行\n\n    if (newList.length) {\n      for (let i = (page - 1) * 10; i < page * 10; i++) {\n        pageList.push(React.createElement(SearchInfoItem, {\n          key: newList[i],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, newList[i]));\n      }\n    }\n\n    if (focused || mouseIn) {\n      return React.createElement(SearchInfo, {\n        onMouseEnter: this.props.handleMouseEnter,\n        onMouseLeave: this.props.handleMouseLeave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(SearchInfoTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"\\u70ED\\u95E8\\u641C\\u7D22\", React.createElement(SearchInfoSwitch, {\n        onClick: () => {\n          this.props.handleChangePage(page, totalPage, this.spinIcon);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        ref: icon => {\n          this.spinIcon = icon;\n        },\n        className: \"iconfont spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"\\uE851\"), \"\\u6362\\u4E00\\u6362\")), React.createElement(SearchInfoList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, pageList));\n    } else {}\n  }\n\n  render() {\n    //这里的list是指获取到的列表中的数据\n    const _this$props2 = this.props,\n          focused = _this$props2.focused,\n          handleInputFocus = _this$props2.handleInputFocus,\n          handleInputBlur = _this$props2.handleInputBlur,\n          list = _this$props2.list,\n          login = _this$props2.login;\n    return React.createElement(HeadrerWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Logo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      className: \"left active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"\\u9996\\u9875\"), React.createElement(NavItem, {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\u4E0B\\u8F7DApp\"), login ? React.createElement(NavItem, {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"\\u9000\\u51FA\") : React.createElement(NavItem, {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"\\u767B\\u5F55\"), React.createElement(NavItem, {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"\\uE636\")), React.createElement(SearchWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(CSSTransition, {\n      in: focused,\n      timeout: 200,\n      classNames: \"slide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(NavSearch, {\n      className: focused ? 'focused' : '' //把list传进handleInputFocus\n      ,\n      onFocus: () => handleInputFocus(list),\n      onBlur: handleInputBlur,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(\"i\", {\n      className: focused ? 'focused iconfont zoom' : 'iconfont zoom',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"\\uE62D\"), this.getListArea())), React.createElement(Addition, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"writting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"\\uE601\"), \"\\u5199\\u6587\\u7AE0\"), React.createElement(Button, {\n      className: \"reg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"\\u6CE8\\u518C\")));\n  }\n\n} //mapStateToProps：组件和store做连接的时候，store数据映射如何到props上\n\n\nconst mapStateToProps = state => {\n  return {\n    //将store中的focused映射到组件里面\n    //focused: state.get('header').get('focused')\n    //还可以通过getIn方法获取到focused\n    focused: state.getIn(['header', 'focused']),\n    //我们将获取到的list的数据取出来到原来的list中\n    list: state.getIn(['header', 'list']),\n    page: state.getIn(['header', 'page']),\n    totalPage: state.getIn(['header', 'totalPage']),\n    mouseIn: state.getIn(['header', 'mouseIn']),\n    //login数据，从我们的login里面去取\n    login: state.getIn(['login', 'login'])\n  };\n}; //组件想要改变store的内容需要调用的方法\n\n\nconst mapDispathToProps = dispatch => {\n  return {\n    handleInputFocus(list) {\n      list.size === 0 && dispatch(actionCreators.getList());\n      dispatch(actionCreators.searchFocus());\n    },\n\n    handleInputBlur() {\n      // const action ={\n      //     type:'search_blur'\n      // }\n      dispatch(actionCreators.searchBlur());\n    },\n\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    },\n\n    handleMouseLeave() {\n      dispatch(actionCreators.mouseLeave());\n    },\n\n    handleChangePage(page, totalPage, spin) {\n      //如果spin中的transform中的数字不是0-9中的数字，就将其替换为空\n      let originAngle = spin.style.transform.replace(/[^0-9]/ig, '');\n\n      if (originAngle) {\n        //将字符串转换成一个数字\n        originAngle = parseInt(originAngle, 10);\n      } else {\n        originAngle = 0;\n      }\n\n      spin.style.transform = 'rotate(' + (originAngle + 360) + 'deg)';\n\n      if (page < totalPage) {\n        dispatch(actionCreators.changePage(page + 1));\n      } else {\n        dispatch(actionCreators.changePage(1));\n      }\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispathToProps)(Header);","map":{"version":3,"sources":["C:\\Users\\23902\\Desktop\\jianshu\\src\\common\\header\\index.js"],"names":["React","Component","iconfont","CSSTransition","connect","actionCreators","Link","HeadrerWrapper","Logo","Nav","NavItem","SearchWrapper","SearchInfo","SearchInfoTitle","SearchInfoList","SearchInfoItem","SearchInfoSwitch","NavSearch","Addition","Button","Header","getListArea","props","focused","list","page","mouseIn","totalPage","newList","toJS","pageList","length","i","push","handleMouseEnter","handleMouseLeave","handleChangePage","spinIcon","icon","render","handleInputFocus","handleInputBlur","login","mapStateToProps","state","getIn","mapDispathToProps","dispatch","size","getList","searchFocus","searchBlur","mouseEnter","mouseLeave","spin","originAngle","style","transform","replace","parseInt","changePage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport iconfont from \"../../statics/iconfont/iconfont.css\";\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { connect } from 'react-redux';\r\nimport * as actionCreators from './store/actionCreators';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    HeadrerWrapper, Logo, Nav, NavItem,\r\n    SearchWrapper,\r\n    SearchInfo,\r\n    SearchInfoTitle,\r\n    SearchInfoList,\r\n    SearchInfoItem,\r\n    SearchInfoSwitch,\r\n    NavSearch,\r\n    Addition,\r\n    Button,\r\n  \r\n} from './style'\r\n\r\n \r\nclass Header extends Component{\r\n    getListArea() {\r\n        const { focused, list, page ,mouseIn,totalPage} = this.props;\r\n        //将list转化为js普通数组\r\n        const newList = list.toJS();\r\n        const pageList = [];\r\n        //当列表中有内容时，才会执行\r\n        if (newList.length) {\r\n            for (let i = ((page-1) * 10); i < (page * 10); i++){\r\n                pageList.push(\r\n                    <SearchInfoItem key={newList[i]} >{newList[i]}</SearchInfoItem>\r\n                )\r\n            }\r\n        }\r\n        if(focused ||mouseIn ){\r\n            return (\r\n                <SearchInfo\r\n                    onMouseEnter={this.props.handleMouseEnter}\r\n                    onMouseLeave={this.props.handleMouseLeave}>\r\n             \r\n                <SearchInfoTitle>\r\n                 热门搜索\r\n                <SearchInfoSwitch\r\n                 onClick={() => { this.props.handleChangePage(page, totalPage,this.spinIcon) }} >\r\n                            \r\n                <i ref={(icon)=>{this.spinIcon=icon}} className=\"iconfont spin\" >&#xe851;</i>\r\n                            换一换</SearchInfoSwitch>{/*这里的ref可以获取i标签的真实的dom节点 */}\r\n                </SearchInfoTitle>\r\n                <SearchInfoList>\r\n                      {pageList}\r\n                </SearchInfoList>\r\n            </SearchInfo>)\r\n        } else {\r\n            \r\n        }\r\n    }\r\n    render() {\r\n        //这里的list是指获取到的列表中的数据\r\n        const { focused,handleInputFocus,handleInputBlur,list,login } = this.props;\r\n        return (\r\n            <HeadrerWrapper>\r\n                <Link to='/'>\r\n                    <Logo />\r\n                </Link>\r\n                <Nav>\r\n                    <NavItem className='left active'>首页</NavItem>\r\n                    <NavItem className='left'>下载App</NavItem>\r\n                    {\r\n    login ?<NavItem className='right'>退出</NavItem>:<NavItem className='right'>登录</NavItem>\r\n                    }\r\n                  \r\n                    <NavItem className='right'>\r\n                        <i className=\"iconfont\">&#xe636;</i>\r\n                    </NavItem>\r\n                    <SearchWrapper>\r\n                        <CSSTransition\r\n                            in={focused}\r\n                            timeout={200}\r\n                            classNames=\"slide\"\r\n                        >\r\n                        <NavSearch \r\n                            className={focused ? 'focused' : ''}\r\n                            //把list传进handleInputFocus\r\n                            onFocus={()=>handleInputFocus(list)}\r\n                            onBlur={handleInputBlur}\r\n                        ></NavSearch>\r\n                        </CSSTransition>\r\n                        <i className={focused ? 'focused iconfont zoom' : 'iconfont zoom'}>&#xe62d;</i>\r\n                        {/*调用getListArea方法，如果聚焦显示*/}\r\n                        {this.getListArea()}\r\n                    </SearchWrapper>\r\n                </Nav>\r\n                <Addition>\r\n                    <Button className='writting'>\r\n                    <i className=\"iconfont\">&#xe601;</i>\r\n                        写文章</Button>\r\n                    <Button className='reg'>注册</Button>\r\n                </Addition>\r\n            </HeadrerWrapper>\r\n        )\r\n    }\r\n}\r\n//mapStateToProps：组件和store做连接的时候，store数据映射如何到props上\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        //将store中的focused映射到组件里面\r\n        //focused: state.get('header').get('focused')\r\n        //还可以通过getIn方法获取到focused\r\n        focused: state.getIn(['header', 'focused']),\r\n        \r\n        //我们将获取到的list的数据取出来到原来的list中\r\n        list: state.getIn(['header', 'list']),\r\n        page: state.getIn(['header', 'page']),\r\n        totalPage:state.getIn(['header','totalPage']),\r\n        mouseIn: state.getIn(['header', 'mouseIn']),\r\n        //login数据，从我们的login里面去取\r\n        login:state.getIn(['login','login'])\r\n       \r\n    }\r\n}\r\n//组件想要改变store的内容需要调用的方法\r\nconst mapDispathToProps = (dispatch)=>{\r\n    return{\r\n        handleInputFocus(list){\r\n           (list.size === 0)&&dispatch(actionCreators.getList())\r\n            dispatch( actionCreators.searchFocus());\r\n        },\r\n        handleInputBlur() {\r\n            // const action ={\r\n            //     type:'search_blur'\r\n            // }\r\n            dispatch(actionCreators.searchBlur());\r\n        },\r\n        handleMouseEnter(){\r\n            dispatch(actionCreators.mouseEnter());\r\n        },\r\n        handleMouseLeave() {\r\n            dispatch(actionCreators.mouseLeave());\r\n        },\r\n        handleChangePage(page, totalPage, spin) {\r\n            //如果spin中的transform中的数字不是0-9中的数字，就将其替换为空\r\n            let originAngle = spin.style.transform.replace(/[^0-9]/ig, '');\r\n            if (originAngle) {\r\n                //将字符串转换成一个数字\r\n                originAngle = parseInt(originAngle, 10);\r\n            } else {\r\n                originAngle = 0;\r\n            }\r\n            spin.style.transform = 'rotate('+(originAngle+360)+'deg)';\r\n            if (page < totalPage) {\r\n                dispatch(actionCreators.changePage(page+1));\r\n            } else {\r\n                dispatch(actionCreators.changePage(1));\r\n            }\r\n            \r\n        }\r\n        \r\n    \r\n        \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispathToProps)(Header);"]},"metadata":{},"sourceType":"module"}